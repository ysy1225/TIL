### 데이터베이스 설계
데이터베이스의 스키마 내에 테이블, 인덱스, 뷰 등의 데이터베이스 객체를 정의하는 것.
스키마 내에 정의한다는 뜻에서 '스키마 설계'라 불리기도 함.
- 논리명과 물리명

물리명은 CREATE TABLE에 지정하는 테이블 이름이나 열 이름(ex : 'item_master')
논리명은 설계상의 이름(ex : '상품 마스터')

- 자료형

수치 데이터만 저장하는 열에는 설계 시 수치형으로 지정한다.

= 수치형을 문자열형으로 변환하는 것은 문제가 되지 않지만, 문자열형을 수치형으로 변환하는 경우에는 에러가 발생하기도 해서 번거로울 수 있다.

- 고정길이와 가변길이

제조번호처럼 자리수가 이미 정해져 있는 경우에는 고정길이 문자열로 지정하는 편이 좋음.
문자열의 길이의 변동폭이 클 경우에는 가변길이 문자열이 적합하다.

=큰 데이터는 LOB(Large Object)형으로 저장할 수 있다.

- 기본키

데이블을 작성할 때 기본키 제약을 거는 경우에는 주의를 기울여야 함.
기본키로 지정할 열이 생각나지 않을 때는 자동증가 열을 사용해서 기본키로 지정하면 간단하게 해결할 수 있다.
MySQL의 경우는 열을 정의할 때 AUTO_INCREMENT를 지정하는 것으로 자동증가 열이 된다.
지정한 열을 PRIMARY KEY 또는 UNIQUE로 유일성을 지정해야 한다.

### ER다이어그램
테이블을 설계할 때 테이블 간의 관계를 명확히 하기 위해 설계도를 작성하는 경우 널리 쓰이는 도식이 ER다이어그램이다.

E는 개체를 뜻하는 'Entity'의 약자. R은 'Relationship'의 약자.

ER다이어그램은 개체 간의 관계를 표현한 것.

= ER다이어그램의 관계는 관계형 데이터베이스의 릴레이션과 달리 릴레이션을 가리킨다.

기본키가 되는 열부터 차례로 기술하며, 열 이름은 주로 논리명으로 표기한다.

개체와 개체가 서로 연계되는 경우에는 선으로 이어서 표현한다.
연계를 표기할 때는 서로 몇 개의 데이터 행과 연관되는지, 즉 몇 대 몇의 관계를 가지는지를 숫자나 기호로 나타낼 수 있다(카디널리티 또는 다중도라고 한다)

- 일대일(1:1)

좌측 개체 타입에 포함된 개체가 우측 개체 타입에 포함된 개체와 일대일 대응하는 관계. 대게 하나의 외래키가 걸려있는 관계라 볼 수 있음.

- 일대다(1:N) / 다대일(N:1)

한쪽 개체 타입의 개체 하나가 다른 쪽 개체 타입의 여러 개체와 관계를 맺는 관계.

- 다대다(N:N)

각 개체 타입의 개체들이 서로 임의의 개수의 개체들과 서로 복합적인 관계를 맺고 있는 관계.

### 관계 데이터 모델 용어 정리

- 속성

열 또는 어트리뷰트(attribute)라고 부르며, 테이블에서 필드에 해당하는 부분이다. 속성은 서로 다른 이름을 붙여서 구분한다.

- 튜플

릴레이션(테이블)의 행을 튜플(tuple)이라고 한다. 개체의 인스턴스를 의미하며, 테이블에서 레코드에 해당하는 부분이다.

- 도메인

속성 하나가 가질 수 있는 값의 모음을 의미한다. RDBMS에서는 데이터 타입을 생각하면 된다.

- 널 값

널(Null) 값은 특정 속성에 해당 값이 없는 경우를 나타낸다. (숫자 0 또는 공백은 그 자체를 값으로 보기 때문에 Null이 아니다)

- 차수

하나의 릴레이션(테이블)에서 속성의 전체 개수를 릴레이션의 차수(degree)라고 한다. 테이블에서 필드의 개수라고 생각하면 된다.

- 카디널리티

카디널리티(cardinality)는 하나의 릴레이션에서 튜플의 전체 개수를 의미한다. 즉 하나의 테이블의 레코드 수(데이터 수)라고 보면 된다.

### 릴레이션(테이블)의 특성
- 튜플의 유일성

하나의 릴레이션에는 동일한 튜플이 존재할 수 없다는 뜻이다. 즉, 테이블에서 레코드가 중복되지 않는다는 의미인데 이러한 특성을 만족시키기 위해서 키(Key)라고 부르는 값의 중복이 불가능한 속성을 넣는다.

- 튜플의 무의미한 순서

릴레이션에서 튜플의 순서는 무의미하다는 뜻이다.
RDBMS는 사람이 알아보기 쉽게 테이블 형태로 순차적으로 데이터를 담아 보여주지만 데이터들의 순서는 사실 상관없다.
데이터베이스는 위치가 아닌 내용으로 검색되기 때문이다.

- 속성의 무의미한 순서

릴레이션에서 속성의 순서 또한 의미가 없다는 뜻이다.
튜플과 마찬가지로 사람이 알아보기 쉽게 지정한 속성을 순서대로 보여주지만 데이터베이스에서는 상관없는 부분이다.
데이터베이스에서는 속성도 위치가 아닌 속성의 이름으로 속성을 구별하기 때문이다.
따라서 속성의 이름을 어떻게 짓느냐가 더 중요할 수 있다.

- 속성의 원자성

속성의 원자성이라는 특성은, 속성의 값은 하나의 값(원자 값)만 가질 수 있다는 뜻이다.

### 키(Key)
키는 관계 데이터 모델에서 제약조건을 정의한다.

- 슈퍼키(Super Key)

슈퍼키는 유일성을 만족하는 속성을 의미한다.
유일성이라는 것은 키 값이 유니크(Unique)하다는 것이며, 유일성은 키가 갖추어야 하는 기본 특성이다.
쉽게 설명하자면 키가 되는 속성의 값에는 중복이 없다는 것이다.

- 후보키(Candidate Key)

후보키는 유일성과 최소성을 만족하는 속성이다.
최소성은 해당 키 속성이 없으면 튜플을 구별할 수 없는 꼭 필요한 속성을 의미한다.
여러 속성이 키로 지정될 수 있기 때문에 슈퍼키 중에서도 단독으로 튜플을 구별할 수 있는 속성들만 후보키가 될 수 있다.

- 기본키(Primary Key)

기본키는 후보키 중에서 기본적으로 사용할 키로 선택한 속성을 의미한다.
널(Null) 값을 가질 수 있는 속성은 기본키로 부적합하고, 값이 변경될 가능성이 적은 후보키가 기본키로 적합하다.
예를들어 아이디값이나, 회원번호 같은 값들이 기본키로 적합하다 볼 수 있다.

- 대체키(Alternate Key)

대체키는 기본키로 선택되지 못한 후보키들이다.

- 외래키(Foreign Key)

외래키는 다른 릴레이션의 기본키를 참조하는 속성이다.
외래키는 관계 데이터 모델에서 관계를 이어주는 핵심이라고 볼 수 있는데, 다른 릴레이션의 기본키 값을 참조하여 릴레이션을 서로 이어준다.
쉽게 생각하면 테이블끼리 이어주는 값이라 보면 되고, 외래키는 다른말로 참조키라고 하는데 이름 그대로 참조하는 기본키의 값 내에서 값을 가져야한다.(참조할 수 없는 값은 가질 수 없다)
외래키는 기본키를 참조하기 때문에 중복 값을 가질 수 있고, 기본키의 값 내에서 값을 가져야 한다고 했지만 예외로 널(Null) 값은 가질 수도 있다.

### 관계 데이터 모델의 제약 조건
관계 데이터 모델을 사용할 때 지켜야하는 조건을 관계 데이터 모델의 제약조건이라고 한다.
개체 무결성 제약조건과 참조 무결성 제약조건이 있는데 각각 기본키와 외래키에 관한 제약조건이다.
이 조건들은 데이터를 정확하고 유효하게 유지하기 위해 지켜야하는 조건이다.

- 개체 무결성 제약조건

기본키를 구성하는 모든 속성은 널(Null) 값을 가질 수 없다.

- 참조 무결성 제약조건

외래키는 참조할 수 없는 값을 가질 수 없다.(다만, 널(Null) 값은 예외로 참조 무결성 제약조건을 위반한 것으로 보지 않는다)